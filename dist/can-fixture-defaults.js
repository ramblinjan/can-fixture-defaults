!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.mockData=t():e.mockData=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=47)}([function(e,t,r){"use strict";var n=r(5),i=Object.prototype.hasOwnProperty,o=r(44),a=r(18);e.exports=function(e,t,r){var u,s,c,f=0;if(e)if(n(e))for(s=e.length;f<s&&(c=e[f],!1!==t.call(r||c,c,f,e));f++);else if(o(e))for(var l,d,p=e[a.iterator||a.for("iterator")]();!(l=p.next()).done;)d=l.value,t.call(r||e,Array.isArray(d)?d[1]:d,d[0]);else if("object"==typeof e)for(u in e)if(i.call(e,u)&&!1===t.call(r||e[u],e[u],u,e))break;return e}},function(e,t,r){"use strict";
//!steal-remove-start
//!steal-remove-end
e.exports=r(19)},function(e,t,r){var n=r(45),i=r(3),o=r(41),a=r(7);n.comparators=o,n.props=o,n.helpers=r(4),n.clause=a,e.exports=i.set=n},function(e,t){e.exports={}},function(e,t,r){var n,i=r(1),o=r(0),a=r(43);e.exports=n={eachInUnique:function(e,t,r,n,o){var a,u=i({},r);for(var s in e){if(void 0!==(a=t(e[s],r[s],e,r,s)))return a;delete u[s]}for(s in u)if(void 0!==(a=n(void 0,r[s],e,r,s)))return a;return o},doubleLoop:function(e,t){"function"==typeof t&&(t={iterate:t});for(var r=0;r<e.length;){t.start&&t.start(e[r]);for(var n=r+1;n<e.length;)!1===t.iterate(e[n],n,e[r],r)?e.splice(n,1):n++;t.end&&t.end(e[r]),r++}},identityMap:function(e){var t={};return o(e,function(e){t[e]=1}),t},arrayUnionIntersectionDifference:function(e,t){var r={},i=[],a=[],u=e.slice(0);return o(e,function(e){r[e]=!0,a.push(e)}),o(t,function(e){if(r[e]){i.push(e);var t=n.indexOf.call(u,e);-1!==t&&u.splice(t,1)}else a.push(e)}),{intersection:i,union:a,difference:u}},arraySame:function(e,t){if(e.length!==t.length)return!1;for(var r=n.identityMap(e),i=0;i<t.length;i++){var o=r[t[i]];if(!o)return!1;if(o>1)return!1;r[t[i]]++}return!0},indexOf:Array.prototype.indexOf||function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]===e)return t;return-1},map:Array.prototype.map||function(e){for(var t=[],r=0,n=this.length;r<n;r++)t.push(e(this[r],r,this));return t},filter:Array.prototype.filter||function(e){for(var t=[],r=0,n=this.length;r<n;r++)e(this[r],r,this)&&t.push(this[r]);return t},ignoreType:new function(){},firstProp:function(e){for(var t in e)return t},index:function(e,t,r){if(t&&t.length){if(-1===e(r,t[0]))return 0;if(1===e(r,a(t)))return t.length;for(var n=0,i=t.length;n<i;){var o=n+i>>>1;-1===e(r,t[o])?i=o:n=o+1}return i}},defaultSort:function(e,t,r){var n,i=e.split(" "),o=i[0],a=t[o],u=r[o],s=i[1]||"";return(s="desc"===s.toLowerCase())&&(n=a,a=u,u=n),a<u?-1:a>u?1:0}}},function(e,t,r){"use strict";e.exports=function(e){var t=typeof e;if("string"===t)return!0;if("number"===t)return!1;var r=e&&"boolean"!==t&&"number"!=typeof e&&"length"in e&&e.length;return"function"!=typeof e&&(0===r||"number"==typeof r&&r>0&&r-1 in e)}},function(e,t,r){"use strict";var n=r(39);e.exports={warnTimeout:5e3,logLevel:0,stringify:function(e){return JSON.stringify(e,function(e,t){return void 0===t?"/* void(undefined) */":t},"  ").replace(/"\/\* void\(undefined\) \*\/"/g,"undefined")},warn:function(){
//!steal-remove-start
n.warn.apply(this,arguments);
//!steal-remove-end
},log:function(){
//!steal-remove-start
n.log.apply(this,arguments);
//!steal-remove-end
},error:function(){
//!steal-remove-start
n.error.apply(this,arguments);
//!steal-remove-end
},_logger:n._logger}},function(e,t,r){var n=r(1),i=r(0),o={};e.exports=o,o.TYPES=["where","order","paginate","id"],i(o.TYPES,function(e){var t=e.charAt(0).toUpperCase()+e.substr(1);o[t]=function(e){n(this,e)},o[t].type=e})},function(e,t,r){var n=r(1),i=function(e,t){(e=e.map(function(e,t){var r=-1;return"string"==typeof e?(r=i.order.indexOf(e),e=o[e]):e.isBehavior?r=i.order.indexOf(e.behaviorName):e=i.behavior(e),{originalIndex:t,sortedIndex:r,behavior:e}})).sort(function(e,t){return~e.sortedIndex&&~t.sortedIndex?e.sortedIndex-t.sortedIndex:e.originalIndex-t.originalIndex}),e=e.map(function(e){return e.behavior});var r=i.base(i.behavior("options",function(){return t})());return e.forEach(function(e){r=e(r)}),r.init&&r.init(),r};i.order=["data/localstorage-cache","data/url","data/parse","cache-requests","data/combine-requests","constructor","constructor/store","can/map","can/ref","fall-through-cache","data/worker","real-time","data/callbacks-cache","data/callbacks","constructor/callbacks-once"],i.behavior=function(e,t){"string"!=typeof e&&(t=e,e=void 0);var r=function(r){var i=function(){};i.name=e,i.prototype=r;var o=new i,a="function"==typeof t?t.apply(o,arguments):t;return n(o,a),o.__behaviorName=e,o};return e&&(r.behaviorName=e,o[e]=r),r.isBehavior=!0,r};var o={};e.exports=i},function(e,t,r){var n=r(8),i=r(35),o=r(3);n.base=i,e.exports=o.connect=n},function(e,t,r){var n=r(2),i=r(9),o=r(34),a=r(0),u=r(1),s=r(5),c=r(32),f=function(e){for(var t in e)return t},l=function(e){return function(t,r){this.connection[e](t.data).then(function(e){r(e)},function(e){r(403,e)})}},d=function(e,t){return function(){var r=[],n=0;return a(e,function(e){r.push(JSON.parse(JSON.stringify(e))),n=Math.max(e[t]+1,n+1)||r.length}),{maxId:n,items:r}}},p=function(e,t,r){for(var n in this.connection=e,this.makeItems=t,this.idProp=r,this.reset(),p.prototype)this[n]=this[n].bind(this)};u(p.prototype,{getListData:l("getListData"),getData:l("getData"),createData:function(e,t){var r=this.idProp;e.data[r]=++this.maxId,this.connection.createData(e.data).then(function(n){var i={};i[r]=e.data[r],t(i)},function(e){t(403,e)})},updateData:l("updateData"),destroyData:l("destroyData"),reset:function(e){e&&(this.makeItems=d(e,this.idProp));var t=this.makeItems();this.maxId=t.maxId,this.connection.addSet({},{data:t.items})},get:function(e){var t=this.connection.id(e);return this.connection.getInstance(t)},getList:function(e){return this.connection._getListData(e)}}),a({findAll:"getListData",findOne:"getData",create:"createData",update:"updateData",destroy:"destroyData"},function(e,t){p.prototype[t]=function(){return this[e].apply(this,arguments)}}),p.make=function(e,t,r){var a,u,l=!1;if((e instanceof n.Algebra||t instanceof n.Algebra||r instanceof n.Algebra)&&(l=!0),!l)return console.warn("can-fixture: This form ( `fixture(count, make, filter)` ) of making a store is deprecated.  Please use the algebra-based form."),o.apply(this,arguments);"number"==typeof e?(u=f(r.clauses.id||{})||"id",a=function(){for(var r=[],n=0,i=0;i<e;i++){var o=t(i,r);o[u]||(o[u]=i),n=Math.max(o[u]+1,n+1)||r.length,r.push(o)}return{maxId:n,items:r}}):s(e)&&(u=f((r=t).clauses.id||{})||"id",a=d(e,u));var v=i([c],{algebra:r,idProp:u});return new p(v,a,u)},e.exports=p},function(e,t,r){"use strict";
//!steal-remove-start
//!steal-remove-end
e.exports=r(37)},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;e.exports=function(e){if(!e||"object"!=typeof e||e.nodeType||function(e){return null!==e&&e==e.window}(e)||e.constructor&&e.constructor.shortName)return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var t;for(t in e);return void 0===t||n.call(e,t)}},function(e,t,r){"use strict";e.exports=function(e){return/^f|^o/.test(typeof e)}},function(e,t,r){"use strict";var n=r(13);e.exports=function(e,t){var r,i,o=void 0!==t?(t+"").replace(/\[/g,".").replace(/]/g,"").split("."):[],a=o.length;if(!a)return e;for(r=e,i=0;i<a&&n(r)&&null!==r;i++)r=r[o[i]];return r}},function(e,t,r){"use strict";e.exports=function(e){for(var t in e)return!1;return!0}},function(e,t,r){"use strict";var n=r(0),i=r(5);e.exports=function(e){var t=[];return i(e)?n(e,function(e,r){t[r]=e}):(0===e||e)&&t.push(e),t}},function(e,t,r){var n,i=r(4),o=r(1),a=r(0),u=r(16),s=function(e,t,r,n,i,o,a){for(var u=a.checks,s=0;s<u.length;s++){var c=u[s](e,t,r,n,i,o||{},a);if(void 0!==c)return c}return a.default},c=function(e,t){return function(t,r,n,i,o,a,u){var s=e.apply(this,arguments);return!0===s?(void 0===o||o in u.result||(u.result[o]=t),!0):s}},f=function(e,t){return function(t,r,n,i,a,u,s){var c=s.result;s.result={};var f=e.apply(this,arguments);return f&&(void 0!==a?c[a]=s.result:o(c,s.result)),s.result=c,f}};e.exports=n={equal:function(e,t,r,i,o,a,u){return u.checks=[n.equalComparesType,n.equalBasicTypes,n.equalArrayLike,n.equalObject],u.default=!1,s(e,t,r,i,o,a,u)},equalComparesType:function(e,t,r,n,i,o,a){if("function"==typeof o){var u=o(e,t,r,n,i,a);if("boolean"==typeof u)return u;if(u&&"object"==typeof u){if("intersection"in u&&!("difference"in u)){var s=o(t,e,n,r,i,a);return"intersection"in s&&!("difference"in s)}return!1}return u}},equalBasicTypes:function(e,t,r,n,i,o,a){return null===e||null===t?e===t:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():-1===a.deep?"object"==typeof e||e===t:typeof e==typeof t&&Array.isArray(e)===Array.isArray(t)&&(e===t||void 0)},equalArrayLike:function(e,t,r,n,i,o,a){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var u=0;u<e.length;u++){var c=void 0===o[u]?o["*"]:o[u];if(!s(e[u],t[u],e,t,u,c,a))return!1}return!0}},equalObject:function(e,t,r,n,i,a,u){var c=typeof e;if("object"===c||"function"===c){var f=o({},t);for(var l in!1===u.deep&&(u.deep=-1),e){var d=void 0===a[l]?a["*"]:a[l];if(!s(e[l],t[l],e,t,l,d,u))return!1;delete f[l]}for(l in f)if(void 0===a[l]||!s(void 0,t[l],e,t,l,a[l],u))return!1;return!0}},subset:function(e,t,r,i,o,a,u){return u.checks=[n.subsetComparesType,n.equalBasicTypes,n.equalArrayLike,n.subsetObject],u.getSubsets=[],u.default=!1,s(e,t,r,i,o,a,u)},subsetObject:function(e,t,r,n,o,a,u){var c=typeof e;if("object"===c||"function"===c)return i.eachInUnique(e,function(e,t,r,n,i){var o=void 0===a[i]?a["*"]:a[i];if(!s(e,t,r,n,i,o,u)&&i in n)return!1},t,function(e,t,r,n,i){var o=void 0===a[i]?a["*"]:a[i];if(!s(e,t,r,n,i,o,u))return!1},!0)},subsetComparesType:function(e,t,r,n,o,a,u){if("function"==typeof a){var s=a(e,t,r,n,o,u);return"boolean"==typeof s?s:s&&"object"==typeof s?(s.getSubset&&-1===i.indexOf.call(u.getSubsets,s.getSubset)&&u.getSubsets.push(s.getSubset),s.intersection===i.ignoreType||s.difference===i.ignoreType||"intersection"in s&&!("difference"in s)&&"intersection"in a(t,e,n,r,o,u)):s}},properSupersetObject:function(e,t,r,n,a,u,c){var f=typeof t,l=!1;if("object"===f||"function"===f){var d=o({},e);for(var p in!1===c.deep&&(c.deep=-1),t){var v=void 0===u[p]?u["*"]:u[p],h=s(e[p],t[p],e,t,p,v,c);if(h===i.ignoreType);else if(p in e&&!c.performedDifference){if(!h)return!1}else l=!0;delete d[p]}for(p in d)if(void 0===u[p]||!s(e[p],void 0,e,t,p,u[p],c))return!1;return l}},properSubsetComparesType:function(e,t,r,n,i,o,a){if("function"==typeof o){var u=o(e,t,r,n,i,a);if("boolean"==typeof u)return u;if(u&&"object"==typeof u){if("intersection"in u&&!("difference"in u)){var s=o(t,e,n,r,i,a);return"intersection"in s&&"difference"in s}return!1}return u}},difference:function(e,t,r,i,o,a,u){u.result={},u.performedDifference=0,u.checks=[n.differenceComparesType,c(n.equalBasicTypes),c(n.equalArrayLike),c(n.properSupersetObject)],u.default=!0;var f=s(e,t,r,i,o,a,u);return!0===f&&u.performedDifference?u.result:f},differenceComparesType:function(e,t,r,o,a,u,s){if("function"==typeof u){var c=u(e,t,r,o,a,s);if("boolean"==typeof c)return!0===c?(s.result[a]=e,!0):c;if(c&&"object"==typeof c){if("difference"in c)return c.difference===i.ignoreType?i.ignoreType:null==c.difference||(s.result[a]=c.difference,s.performedDifference++,!0);if(!n.equalComparesType.apply(this,arguments))return!1;s.performedDifference++,s.result[a]=c.union}}},union:function(e,t,r,i,o,a,u){return u.result={},u.performedUnion=0,u.checks=[n.unionComparesType,c(n.equalBasicTypes),c(n.unionArrayLike),f(n.unionObject)],u.getUnions=[],u.default=!1,!0===s(e,t,r,i,o,a,u)&&u.result},unionComparesType:function(e,t,r,n,o,a,u){if("function"==typeof a){var s=a(e,t,r,n,o,u);if("boolean"==typeof s)return!0===s?(u.result[o]=e,!0):s;if(s&&"object"==typeof s&&(s.getUnion&&-1===i.indexOf.call(u.getUnions,s.getUnion)&&u.getUnions.push(s.getUnion),"union"in s))return s.union===i.ignoreType?s.union:(void 0!==s.union&&(u.result[o]=s.union),u.performedUnion++,!0)}},unionObject:function(e,t,r,n,o,a,u){var c=function(e,t,r,n,i){var o,c=void 0===a[i]?a["*"]:a[i];if(!s(e,t,r,n,i,c,u))return i in r||(o="subsetB"),i in n||(o="subsetA"),!!o&&(u.subset||(u.subset=o),u.subset===o&&void 0)},f=typeof e;if("object"===f||"function"===f)return i.eachInUnique(e,c,t,c,!0)},unionArrayLike:function(e,t,r,o,a,s,c){if(Array.isArray(e)&&Array.isArray(t)){var f=u(e).concat(u(t));return i.doubleLoop(f,function(e,t,i,a){return!n.equal(i,e,r,o,void 0,s["*"],{default:!1})}),c.result[a]=f,!0}},count:function(e,t,r,i,o,a,u){return u.checks=[n.countComparesType,n.equalBasicTypes,n.equalArrayLike,n.loopObject],u.default=!1,s(e,t,r,i,o,a,u),"number"==typeof u.count?u.count:1/0},countComparesType:function(e,t,r,n,i,o,a){if("function"==typeof o){var u=o(e,t,r,n,i,a);if("boolean"==typeof u)return!0;if(u&&"object"==typeof u)return"number"==typeof u.count&&("count"in a&&u.count!==a.count?a.count=1/0:a.count=u.count),!0}},loopObject:function(e,t,r,n,i,o,u){var c=typeof e;if("object"===c||"function"===c)return a(e,function(r,n){var i=void 0===o[n]?o["*"]:o[n];s(r,t[n],e,t,n,i,u)}),!0},intersection:function(e,t,r,i,o,a,u){return u.result={},u.performedIntersection=0,u.checks=[n.intersectionComparesType,c(n.equalBasicTypes),c(n.intersectionArrayLike),f(n.intersectionObject)],u.default=!1,!0===s(e,t,r,i,o,a,u)&&u.result},intersectionComparesType:function(e,t,r,n,i,o,a){if("function"==typeof o){var u=o(e,t,r,n,i,a);if("boolean"==typeof u)return!0===u?(a.result[i]=e,!0):u;if(u&&"object"==typeof u&&"intersection"in u)return void 0!==u.intersection&&(a.result[i]=u.intersection),a.performedIntersection++,!0}},intersectionObject:function(e,t,r,n,o,a,u){var c=function(e,t,r,n,i){var o=void 0===a[i]?a["*"]:a[i];if(!s(e,t,r,n,i,o,u))return function(e,t,r,n,i,o,a){var u;if(i in r){if(i in n)return!1}else u="subsetB";i in n||(u="subsetA"),a.result[i]="subsetB"===u?t:e}(e,t,r,n,i,0,u)},f=typeof e;if("object"===f||"function"===f)return i.eachInUnique(e,c,t,c,!0)},intersectionArrayLike:function(e,t,r,i,o,s,c){if(Array.isArray(e)&&Array.isArray(t)){var f=[];return a(u(e),function(e){for(var o=0;o<t.length;o++)if(n.equal(e,t[o],r,i,void 0,s["*"],{default:!1})){f.push(e);break}}),c.result[o]=f,!0}}}},function(e,t,r){var n,i=r(3);if("undefined"!=typeof Symbol&&"function"==typeof Symbol.for)n=Symbol;else{var o=0,a={},u={};(n=function(e){var t="@@symbol"+o+++e,r={};return Object.defineProperties(r,{toString:{value:function(){return t}}}),r}).for=function(e){var t=a[e];return t||(t=a[e]=n(e),u[t]=e),t},n.keyFor=function(e){return u[e]},["hasInstance","isConcatSpreadable","iterator","match","prototype","replace","search","species","split","toPrimitive","toStringTag","unscopables"].forEach(function(e){n[e]=n("Symbol."+e)})}["isMapLike","isListLike","isValueLike","isFunctionLike","getOwnKeys","getOwnKeyDescriptor","proto","getOwnEnumerableKeys","hasOwnKey","hasKey","size","getName","getIdentity","assignDeep","updateDeep","getValue","setValue","getKeyValue","setKeyValue","updateValues","addValue","removeValues","apply","new","onValue","offValue","onKeyValue","offKeyValue","getKeyDependencies","getValueDependencies","keyHasDependencies","valueHasDependencies","onKeys","onKeysAdded","onKeysRemoved","onPatches"].forEach(function(e){n.for("can."+e)}),e.exports=i.Symbol=n},function(e,t){e.exports=function(e,t){for(var r in t)e[r]=t[r];return e}},function(e,t,r){var n=r(2),i=r(40).sub,o=r(0),a=r(1),u=r(15),s=r(12),c=r(11),f=r(36);r(10);var l=[];t.fixtures=l;var d={item:{GET:"getData",PUT:"updateData",DELETE:"destroyData"},list:{GET:"getListData",POST:"createData"}};function p(e){var t=e.match(/(GET|POST|PUT|DELETE|PATCH) (.+)/i);return t?[t[1],t[2]]:[void 0,e]}function v(e,t){var r={},n=p(e),i=n[0],o=function(e,t){if(!(t=t||function(e){var t=e.match(/\{(.*)\}/);if(t&&2===t.length)return t[1]}(e)))return[void 0,e];var r=new RegExp("\\/\\{"+t+"\\}.*"),n=r.test(e),i=n?e.replace(r,""):e;return[n?e:e.trim()+"/{"+t+"}",i]}(n[1],t.idProp),a=o[0],u=o[1];if(i){var s=['fixture("'+e+'", fixture) must use a store method, not a store directly.'];if(a){var c=d.item[i];if(c){r[i+" "+a]=t[c];var l='Replace with fixture("'+i+" "+a+'", fixture.'+c+") for items.";s.push(l)}}var v=d.list[i];if(v){r[i+" "+u]=t[v];var h='Replace with fixture("'+i+" "+u+'", fixture.'+v+") for lists.";s.push(h)}var g=s.join(" ");f.warn(g)}else{var y=d.item;for(var b in y){var m=y[b];r[b+" "+a]=t[m]}var x=d.list;for(var S in x){var w=x[S];r[S+" "+u]=t[w]}}return r}t.add=function(e,r){if(void 0!==r){if(function(e){return e&&(e.getData||e.getListData)}(r))return e=v(e,r),void t.add(e);var n,i,a;"string"==typeof e&&(n=p(e),i=n[0],a=n[1],e=i?{type:i,url:a}:{url:a}),function(e,r,n){var i=t.index(r,!0);if(i>-1&&l.splice(i,1),null!=n){if("object"==typeof n){var o=n;n=function(){return o}}r.fixture=n,l.unshift(r)}}(0,e,r)}else o(e,function(e,r){t.add(r,e)})};var h=t.add;h.on=!0,h.delay=10,t.callDynamicFixture=function(e,r,n){e.data=r.data;
//!steal-remove-start
var i=JSON.stringify(e.data);c.log(e.type.toUpperCase()+" "+e.url+" "+i.substr(0,50)+" -> handler(req,res)");
//!steal-remove-end
var o=function(){var r=t.extractResponse.apply(e,arguments);return n.apply(this,r)},a=function(){var t=r.fixture(e,o,e.headers,r);void 0!==t&&o(200,t)};return e.async?setTimeout(a,h.delay):(a(),null)},t.index=function(e,r){for(var n=0;n<l.length;n++)if(t.matches(e,l[n],r))return n;return-1},t.get=function(e){if(h.on){var r=t.index(e,!0);-1===r&&(r=t.index(e,!1));var n=r>=0?a({},l[r]):void 0;if(n){var o=n.fixture,u=t.dataFromUrl(n.url,e.url);if("string"==typeof n.fixture)u&&(o=i(o,u)),n.url=o,n.data=null,n.type="GET",n.error||(n.error=function(e,t,r){throw"fixtures.js Error "+t+" "+r});else if(s(e.data)||null==e.data){var c=a({},e.data||{});n.data=a(c,u)}else n.data=e.data}return n}},t.matches=function(e,r,i){return i?n.equal(e,r,{fixture:function(){return!0}}):n.subset(e,r,t.defaultCompare)};t.defaultCompare={url:function(e,r){return!!t.dataFromUrl(r,e)},fixture:function(){return!0},xhr:function(){return!0},type:function(e,t){return t&&e?e.toLowerCase()===t.toLowerCase():t===e},method:function(e,t){return t&&e?e.toLowerCase()===t.toLowerCase():t===e},helpers:function(){return!0},headers:function(e,t){return!(null!=e||!u(t))||!(null!=t||!u(e))||n.equal(e,t)},data:function(e,t){return!(null!=e||!u(t))||!(null!=t||!u(e))||n.subset(e,t)}};var g=/\{([^\}]+)\}/g;t.dataFromUrl=function(e,t){if(!e)return{};var r=[],n=e.replace(".","\\.").replace("?","\\?"),i=new RegExp(n.replace(g,function(e,t){return r.push(t),"([^/]+)"})+"$").exec(t),a={};return i?(i.shift(),o(r,function(e){a[e]=i.shift()}),a):null},t.extractResponse=function(e,t,r,n){return"number"!=typeof e&&(r=t,t=e,e=200),"string"==typeof r&&(n=r,r={}),[e,t,r,n]}},function(e,t,r){var n=r(3),i=/^\d+$/,o=/([^\[\]]+)|(\[\])/g,a=/([^?#]*)(#.*)?$/,u=/%([^0-9a-f][0-9a-f]|[0-9a-f][^0-9a-f]|[^0-9a-f][^0-9a-f])/i,s=function(e){e=e.replace(/\+/g," ");try{return decodeURIComponent(e)}catch(t){return decodeURIComponent(e.replace(u,function(e,t){return"%25"+t}))}};e.exports=n.deparam=function(e){var t,r={};return e&&a.test(e)&&e.split("&").forEach(function(e){var n=e.split("="),a=s(n.shift()),u=s(n.join("=")),c=r;if(a){for(var f=0,l=(n=a.match(o)).length-1;f<l;f++)c[n[f]]||(c[n[f]]=i.test(n[f+1])||"[]"===n[f+1]?[]:{}),c=c[n[f]];"[]"===(t=n.pop())?c.push(u):c[t]=u}}),r}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(e){var t=r(20),n=r(21),i=r(1),o=r(0),a=r(11),u=XMLHttpRequest,s=void 0!==e?e:window,c=["type","url","async","response","responseText","responseType","responseXML","responseURL","status","statusText","readyState"],f=["abort","error","load","loadend","loadstart","progress","readystatechange"];function l(e,t){for(var r=e.__events[t]||[],n=0,i=r.length;n<i;n++)r[n].call(e)}!function(){var e=new u;for(var t in e)0===t.indexOf("on")?-1===f.indexOf(t.substr(2))&&f.push(t.substr(2)):-1===c.indexOf(t)&&"function"!=typeof e[t]&&c.push(t)}(),s.XMLHttpRequest=function(){var e=this,t=new u;this._xhr=t,this._requestHeaders={},this.__events={},o(f,function(r){t["on"+r]=function(){if(l(e,r),e["on"+r])return e["on"+r].apply(e,arguments)}}),this.onload=null},s.XMLHttpRequest._XHR=u,i(XMLHttpRequest.prototype,{setRequestHeader:function(e,t){this._requestHeaders[e]=t},open:function(e,t,r){this.type=e,this.url=t,this.async=!1!==r},getAllResponseHeaders:function(){return this._xhr.getAllResponseHeaders.apply(this._xhr,arguments)},addEventListener:function(e,t){(this.__events[e]=this.__events[e]||[]).push(t)},removeEventListener:function(e,t){var r=this.__events[e]=this.__events[e]||[],n=r.indexOf(t);n>=0&&r.splice(n,1)},setDisableHeaderCheck:function(e){this._disableHeaderCheck=!!e},getResponseHeader:function(e){return this._xhr.getResponseHeader(e)},abort:function(){var e=this._xhr;return void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),e.open(this.type,this.url,!1!==this.async),e.send()),e.abort()},send:function(e){var r=this.type.toLowerCase()||"get",u={url:this.url,data:e,headers:this._requestHeaders,type:r,method:r,async:this.async,xhr:this};if((!u.data&&"get"===u.type||"delete"===u.type)&&(u.data=n(u.url.split("?")[1]),u.url=u.url.split("?")[0]),"string"==typeof u.data)try{u.data=JSON.parse(u.data)}catch(e){u.data=n(u.data)}var s=t.get(u),c=this;if(!s||"function"!=typeof s.fixture){var f=function(){return c._xhr.open(c._xhr.type,c._xhr.url,c._xhr.async),c._requestHeaders&&Object.keys(c._requestHeaders).forEach(function(e){c._xhr.setRequestHeader(e,c._requestHeaders[e])}),c._xhr.send(e)};return s&&"number"==typeof s.fixture?(a.log(u.url+" -> delay "+s.fixture+"ms"),void(this.timeoutId=setTimeout(f,s.fixture))):(s&&(a.log(u.url+" -> "+s.url),i(c,s)),f())}this.timeoutId=t.callDynamicFixture(u,s,function(e,t,r,n){t="string"==typeof t?t:JSON.stringify(t),c._xhr={open:function(){},send:function(){},abort:function(){},getResponseHeader:function(){}},i(c,{readyState:4,status:e}),i(c,e>=200&&e<300||304===e?{statusText:n||"OK",responseText:t}:{statusText:n||"error",responseText:t}),c.getAllResponseHeaders=function(){var e=[];return o(r||{},function(t,r){Array.prototype.push.apply(e,[r,": ",t,"\r\n"])}),e.join("")},c.onreadystatechange&&c.onreadystatechange({target:c}),l(c,"progress"),c.onprogress&&c.onprogress(),l(c,"load"),c.onload&&c.onload(),l(c,"loadend"),c.onloadend&&c.onloadend()})}}),o(c,function(e){Object.defineProperty(XMLHttpRequest.prototype,e,{get:function(){return this._xhr[e]},set:function(t){try{this._xhr[e]=t}catch(e){}}})})}).call(this,r(22))},function(e,t,r){"use strict";var n="undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return"[object Function]"===Object.prototype.toString.call(e)}:function(e){return"function"==typeof e};e.exports=n},function(e,t,r){"use strict";var n=r(24),i=r(12);e.exports=function e(){var t,r,o,a,u,s,c=arguments[0]||{},f=1,l=arguments.length;for("object"==typeof c||n(c)||(c={}),l===f&&(c=this,--f);f<l;f++)if(null!=(t=arguments[f]))for(r in t)o=c[r],c!==(a=t[r])&&(a&&(i(a)||(u=Array.isArray(a)))?(u?(u=!1,s=o&&Array.isArray(o)?o:[]):s=o&&i(o)?o:{},c[r]=e(s,a)):void 0!==a&&(c[r]=a));return c}},function(e,t,r){var n=r(25);e.exports=function(e){return Array.isArray(e)?e.slice(0):n({},e)}},function(e,t){e.exports=function(e,t,r){for(var n=e.id(t),i=0;i<r.length;i++){if(n==e.id(r[i]))return i}return-1}},function(e,t,r){var n=r(2);e.exports=function(e,t,r,i,o){var a=n.index(t,r,i,o);void 0===a&&(a=r.length);var u=r.slice(0);return u.splice(a,0,i),u}},function(e,t){e.exports=function(e,t,r){for(var n in e)!e.hasOwnProperty(n)||"__"===n.substr(0,2)||n===r||n in t||delete e[n];for(n in t)e[n]=t[n];return e}},function(e,t){var r=[].forEach,n=Object.keys;e.exports=function(e){if(null==e)return e;var t={};return r.call(n(e).sort(),function(r){t[r]=e[r]}),JSON.stringify(t)}},function(e,t){e.exports=function(e){return Array.isArray(e)?e:e.data}},function(e,t,r){var n=r(31),i=r(9),o=r(30),a=r(2),u=r(29),s=r(28),c=r(27),f=r(1),l=r(26);e.exports=i.behavior("data/memory-cache",function(e){return{_sets:{},getSetData:function(){return this._sets},__getListData:function(e){var t=this.getSetData()[o(e)];if(t)return t.items},_instances:{},getInstance:function(e){return this._instances[e]},removeSet:function(e,t){delete this.getSetData()[e],!0!==t&&this.updateSets()},updateSets:function(){},updateInstance:function(e){var t=this.id(e);return t in this._instances?u(this._instances[t],e,this.idProp):this._instances[t]=e,this._instances[t]},updateSet:function(e,t,r){var n=r?o(r):e.setKey;if(r&&n!==e.setKey){var i=this.getSetData(),a=e.setKey;i[n]=e,e.setKey=n,e.set=f({},r),this.removeSet(a)}e.items=t;var u=this;t.forEach(function(e){u.updateInstance(e)})},addSet:function(e,t){var r=n(t),i=this.getSetData(),a=o(e);i[a]={setKey:a,items:r,set:f({},e)};var u=this;r.forEach(function(e){u.updateInstance(e)}),this.updateSets()},_eachSet:function(e){var t=this.getSetData(),r=this,n=function(t,n){return e.call(r,t,n,function(){return t.items})};for(var i in t){var o=n(t[i],i);if(void 0!==o)return o}},_getSets:function(){var e=[],t=this.getSetData();for(var r in t)e.push(t[r].set);return e},getSets:function(){return Promise.resolve(this._getSets())},clear:function(){this._instances={},this._sets={}},getListData:function(e){e=e||{};var t=this.getListDataSync(e);return t?Promise.resolve(t):Promise.reject({message:"no data",error:404})},getListDataSync:function(e){for(var t=this._getSets(),r=0;r<t.length;r++){var n=t[r];if(a.subset(e,n,this.algebra)){var i=this.__getListData(n);return{data:a.getSubset(e,n,i,this.algebra),count:i.length}}}},_getListData:function(e){return this.getListDataSync(e)},updateListData:function(e,t){t=t||{};var r=l(e),i=n(r),o=this.getSetData(),u=this;for(var s in o){var c=o[s],d=a.union(c.set,t,this.algebra);if(d){var p=f({},c.set);return this.getListData(p).then(function(e){u.updateSet(c,a.getUnion(p,t,n(e),i,u.algebra),d)})}}return this.addSet(t,r),Promise.resolve()},getData:function(e){var t=this.id(e),r=this.getInstance(t);return r?Promise.resolve(r):Promise.reject({message:"no data",error:404})},createData:function(e){var t=this,r=this.updateInstance(e);return this._eachSet(function(e,n,i){a.has(e.set,r,this.algebra)&&t.updateSet(e,s(t,e.set,i(),r,t.algebra),e.set)}),Promise.resolve(f({},r))},updateData:function(e){var t=this,r=this.updateInstance(e);return this._eachSet(function(e,n,i){var o=i(),u=c(t,r,o);a.subset(r,e.set,this.algebra)?-1===u?t.updateSet(e,s(t,e.set,i(),r,t.algebra)):(o.splice(u,1,r),t.updateSet(e,o)):-1!==u&&(o.splice(u,1),t.updateSet(e,o))}),Promise.resolve(f({},r))},destroyData:function(e){var t=this;this._eachSet(function(r,n,i){var o=i(),a=c(t,e,o);-1!==a&&(o.splice(a,1),t.updateSet(r,o))});var r=this.id(e);return delete this._instances[r],Promise.resolve(f({},e))}}})},function(e,t){e.exports=function(e,t){var r=e.data.id;return void 0===r&&"number"==typeof e.data&&(r=e.data),void 0===r&&e.url.replace(/\/(\d+)(\/|$|\.)/g,function(e,t){r=t}),void 0===r&&(r=e.url.replace(/\/(\w+)(\/|$|\.)/g,function(e,t){"update"!==t&&(r=t)})),void 0===r&&(r=Math.round(1e3*Math.random())),r}},function(e,t,r){var n=r(33),i=r(2),o=r(5),a=r(0),u=r(1);e.exports=function(e,t,r){var s,c,f,l=function(){return s++},d=function(e){for(var t=0;t<c.length;t++)if(e==c[t].id)return c[t]},p={};if(o(e)&&"string"==typeof e[0]?(e,e=t,t=r,r=arguments[3]):"string"==typeof e&&([e+"s",e],e=t,t=r,r=arguments[3]),"number"==typeof e)s=0,c=[],f=function(){c=[];for(var r=0;r<e;r++){var n=t(r,c);n.id||(n.id=l()),c.push(n)}};else{r=t;var v=e;s=function(e){var t=0;return a(e,function(e){"number"==typeof e.id&&(t=Math.max(t,e.id+1))}),t}(v),f=function(){c=v.slice(0)}}return u(p,{getListData:function(e){e=e||{};var t=c.slice(0);e.data=e.data||{},a((e.data.order||[]).slice(0).reverse(),function(e){var r=e.split(" ");t=t.sort(function(e,t){return"ASC"!==r[1].toUpperCase()?e[r[0]]<t[r[0]]?1:e[r[0]]===t[r[0]]?0:-1:e[r[0]]<t[r[0]]?-1:e[r[0]]===t[r[0]]?0:1})}),a((e.data.group||[]).slice(0).reverse(),function(e){var r=e.split(" ");t=t.sort(function(e,t){return e[r[0]]>t[r[0]]})});var n=parseInt(e.data.offset,10)||0,o=parseInt(e.data.limit,10)||c.length-n,u=0;for(var s in e.data)if(u=0,void 0!==e.data[s]&&(-1!==s.indexOf("Id")||-1!==s.indexOf("_id")))for(;u<t.length;)e.data[s]!=t[u][s]?t.splice(u,1):u++;if("function"==typeof r)for(u=0;u<t.length;)r(t[u],e)?u++:t.splice(u,1);else if("object"==typeof r)for(u=0;u<t.length;){i.subset(t[u],e.data,r)?u++:t.splice(u,1)}var f={count:t.length,data:t.slice(n,n+o)};return a(["limit","offset"],function(t){t in e.data&&(f[t]=e.data[t])}),f},getData:function(e,t){var r=d(n(e));if(void 0===r)return t(404,"Requested resource not found");t(r)},updateData:function(e,t){var r=n(e),i=d(r);if(void 0===i)return t(404,"Requested resource not found");u(i,e.data),t({id:r},{location:e.url||"/"+n(e)})},destroyData:function(e,t){var r=n(e);if(void 0===d(r))return t(404,"Requested resource not found");for(var i=0;i<c.length;i++)if(c[i].id==r){c.splice(i,1);break}return{}},createData:function(e,r){var n="function"==typeof t?t(c.length,c):{};u(n,e.data),n.id||(n.id=l()),c.push(n),r({id:n.id},{location:e.url+"/"+n.id})}}),f(),u({findAll:p.getListData,findOne:p.getData,create:p.createData,update:p.updateData,destroy:p.destroyData,getId:n,find:function(e){return d(n(e))},reset:f},p)}},function(e,t,r){var n=r(8);e.exports=n.behavior("base",function(e){return{id:function(e){var t=[],r=this.algebra;if(r&&r.clauses&&r.clauses.id)for(var n in r.clauses.id)t.push(e[n]);return this.idProp&&!t.length&&t.push(e[this.idProp]),t.length||t.push(e.id),t.length>1?t.join("@|@"):t[0]},idProp:e.idProp||"id",listSet:function(e){return e[this.listSetProp]},listSetProp:"__listSet",init:function(){}}})},function(e,t,r){"use strict";
//!steal-remove-start
//!steal-remove-end
e.exports=r(6)},function(e,t,r){"use strict";t.warnTimeout=5e3,t.logLevel=0,t.warn=function(){this.logLevel<2&&("undefined"!=typeof console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments)))},t.log=function(){this.logLevel<1&&"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments))},t.error=function(){this.logLevel<1&&"undefined"!=typeof console&&console.error&&this._logger("error",Array.prototype.slice.call(arguments))},t._logger=function(e,t){try{console[e].apply(console,t)}catch(r){console[e](t)}}},function(e,t,r){"use strict";var n=r(6),i=!1;e.exports=function(e){
//!steal-remove-end
//!steal-remove-start
return i||(n.warn("js/is-array/is-array is deprecated; use Array.isArray"),i=!0),Array.isArray(e)}},function(e,t,r){"use strict";t.warnTimeout=5e3,t.logLevel=0,t.warn=function(){this.logLevel<2&&("undefined"!=typeof console&&console.warn?this._logger("warn",Array.prototype.slice.call(arguments)):"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments)))},t.log=function(){this.logLevel<1&&"undefined"!=typeof console&&console.log&&this._logger("log",Array.prototype.slice.call(arguments))},t.error=function(){this.logLevel<1&&"undefined"!=typeof console&&console.error&&this._logger("error",Array.prototype.slice.call(arguments))},t._logger=function(e,t){try{console[e].apply(console,t)}catch(r){console[e](t)}}},function(e,t,r){"use strict";var n=r(14),i=r(13),o=r(6),a=r(38),u=/\=\=/,s=/([A-Z]+)([A-Z][a-z])/g,c=/([a-z\d])([A-Z])/g,f=/([a-z\d])([A-Z])/g,l=/\{([^\}]+)\}/g,d=/"/g,p=/'/g,v=/-+(.)?/g,h=/[a-z][A-Z]/g,g=function(e){return""+(null===e||void 0===e||isNaN(e)&&""+e=="NaN"?"":e)},y=function(e,t){for(var r=t?t.replace(/\[/g,".").replace(/]/g,"").split("."):[],n=e,i=0;i<r.length-1;i++)n&&(n=n[r[i]]);n&&delete n[r[r.length-1]]},b={esc:function(e){return g(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(d,"&#34;").replace(p,"&#39;")},getObject:function(e,t){
//!steal-remove-start
o.warn("string.getObject is deprecated, please use can-util/js/get/get instead.");for(var r,i=(
//!steal-remove-end
t=a(t)?t:[t||window]).length,u=0;u<i;u++)if(r=n(t[u],e))return r},capitalize:function(e,t){return e.charAt(0).toUpperCase()+e.slice(1)},camelize:function(e){return g(e).replace(v,function(e,t){return t?t.toUpperCase():""})},hyphenate:function(e){return g(e).replace(h,function(e,t){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},underscore:function(e){return e.replace(u,"/").replace(s,"$1_$2").replace(c,"$1_$2").replace(f,"_").toLowerCase()},sub:function(e,t,r){var o=[];return e=e||"",o.push(e.replace(l,function(e,a){var u=n(t,a);return!0===r&&y(t,a),void 0===u||null===u?(o=null,""):i(u)&&o?(o.push(u),""):""+u})),null===o?o:o.length<=1?o[0]:o},replaceWith:function(e,t,r,i){return e.replace(l,function(e,o){var a=n(t,o);return i&&y(t,o),r(o,a)})},replacer:l,undHash:/_|-/};e.exports=b},function(e,t,r){var n=r(4),i=r(7),o=r(0),a=function(e,t){return e>=t[0]&&e<=t[1]},u=function(e,t,r,n){return{sAv1:+e[r],sAv2:+e[n],sBv1:+t[r],sBv2:+t[n]}},s=function(e,t,r,n){var i=u(e,t,r,n),o=i.sAv1,s=i.sAv2,c=i.sBv1,f=i.sBv2,l=s-o+1,d={difference:[f+1,s],intersection:[o,f],union:[c,s],count:l,meta:"after"},p={difference:[o,c-1],intersection:[c,s],union:[o,f],count:l,meta:"before"};return o===c&&s===f?{intersection:[o,s],union:[o,s],count:l,meta:"equal"}:o===c&&f<s?d:s===f&&c>o?p:a(o,[c,f])&&a(s,[c,f])?{intersection:[o,s],union:[c,f],count:l,meta:"subset"}:a(c,[o,s])&&a(f,[o,s])?{intersection:[c,f],difference:[null,null],union:[o,s],count:l,meta:"superset"}:o<c&&a(s,[c,f])?p:c<o&&a(f,[o,s])?d:s===c-1?{difference:[o,s],union:[o,f],count:l,meta:"disjoint-before"}:f===o-1?{difference:[o,s],union:[c,s],count:l,meta:"disjoint-after"}:isNaN(l)?void 0:{count:l,meta:"disjoint"}},c=function(e,t){return e?(Array.isArray(e)||(e=[e]),e.length?e:t):t},f={0:!1,false:!1,null:void 0,undefined:void 0},l=function(e){return"string"==typeof e?!(e.toLowerCase()in f)||f[e.toLowerCase()]:e},d={enum:function(e,t){var r=new i.Where({});return r[e]=function(e,r,i,a){e=c(e,t),r=c(r,t);var u=n.arrayUnionIntersectionDifference(e,r);return u.difference.length||delete u.difference,o(u,function(e,r){Array.isArray(e)&&(n.arraySame(t,e)?u[r]=void 0:1===e.length&&(u[r]=e[0]))}),u},r},paginate:function(e,t,r,n){var a={},c=function(r,i){var a={};return o(["intersection","difference","union"],function(o){if(r[o]){var u={start:r[o][0],end:r[o][1]};a[o]=n(u)[0===i?e:t]}}),r.count&&(a.count=r.count),a};return a[e]=function(e,t,n,i){if(void 0!==e){var o=s(r(n),r(i),"start","end"),a=c(o,0);return a.getSubset=function(e,t,r,n,i){return r},a.getUnion=function(e,t,r,n,i,o){return[r,n]},a}},a[t]=function(e,t,n,i){if(void 0!==e){var o=s(r(n),r(i),"start","end"),a=c(o,1);return a.getSubset=function(e,t,n,i,o){var a=r(e),s=r(t),c=u(a,s,"start","end"),f=c.sAv1,l=c.sAv2,d=c.sBv1;return"end"in s&&"end"in a?n.slice(f-d,l-d+1):n.slice(f,l+1)},a.getUnion=function(e,t,n,i,a,u){var s=r(e),c=r(t);return o.meta.indexOf("after")>=0?(o.intersection&&(i=i.slice(0,o.intersection[0]-+c.start)),[i,n]):(o.intersection&&(n=n.slice(0,o.intersection[0]-+s.start)),[n,i])},a}},new i.Paginate(a)},boolean:function(e){var t=new i.Where({});return t[e]=function(e,t){return(e=l(e))===!(t=l(t))&&t===!e?{difference:!t,union:void 0}:void 0===e?{difference:!t,intersection:t,union:void 0}:e===t||void 0},t},sort:function(e,t){t||(t=n.defaultSort);var r={};return r[e]=t,new i.Order(r)},id:function(e){var t={};return t[e]=e,new i.Id(t)}},p=function(e,t,r){for(var n in t)r[n]||(e[n]=t[n]);return e};d.offsetLimit=function(e,t){return e=e||"offset",t=t||"limit",d.paginate(e,t,function(r){return function(e,t,r){var n={};n[t]=n[r]=1;var i=p({},e,n);return t in e&&(i.start=parseInt(e[t],10)),r in e&&(i.end=i.start+parseInt(e[r])-1),i}(r,e,t)},function(r){return function(e,t,r){var n=p({},e,{start:1,end:1});return"start"in e&&(n[t]=e.start),"end"in e&&(n[r]=e.end-e.start+1),n}(r,e,t)})},d.rangeInclusive=function(e,t){return e=e||"start",t=t||"end",d.paginate(e,t,function(r){var n={};n[e]=n[t]=1;var i=p({},r,n);return e in r&&(i.start=r[e]),t in r&&(i.end=r[t]),i},function(r){var n=p({},r,{start:1,end:1});return n[e]=r.start,n[t]=r.end,n})};var v=function(e,t){if(void 0!==e)return 1===t.length?e[t[0]]:v(e[t[0]],t.slice(1))};d.dotNotation=function(e){var t=new i.Where({});return t[e]=function(e,t,r,n,i){return void 0===e&&(e=v(r,i.split("."))),void 0===t&&(t=v(n,i.split("."))),e===t},t},e.exports=d},function(e,t,r){var n=r(17),i=r(4),o=r(0);e.exports={subsetData:function(e,t,r,a){var u,s,c,f=a.getClauseProperties(e),l=a.getClauseProperties(t),d={},p=(u=r,s=f.where,c=a.clauses.where,i.filter.call(u,function(e){return n.subset(e,s,void 0,void 0,void 0,c,{})}));if(p.length&&(f.enabled.order||l.enabled.order)){d={};var v=i.firstProp(f.order),h=a.clauses.order[v];p=p.sort(function(t,r){return h(e[v],t,r)})}return p.length&&(f.enabled.paginate||l.enabled.paginate)&&(d={},n.subset(f.paginate,l.paginate,void 0,void 0,void 0,a.clauses.paginate,d),o(d.getSubsets,function(r){p=r(e,t,p,a,d)})),p}}},function(e,t,r){"use strict";e.exports=function(e){return e&&e[e.length-1]}},function(e,t,r){"use strict";var n=r(18);e.exports=function(e){return e&&!!e[n.iterator||n.for("iterator")]}},function(e,t,r){var n=r(4),i=r(7),o=r(17),a=r(42),u=r(19),s=r(0),c=r(16),f=r(15),l=r(14);function d(e,t,r){var n,i={};return"undefined"!=typeof Set&&(n=new Set),e.forEach(function(e){var t=i;n&&n.add(e),s(r.clauses.id,function(r){var n=l(e,r);t=t&&void 0!==n?t[n]=t[n]||{}:void 0})}),e.concat(t.filter(function(t){var o=i;return(!n||!n.has(t))&&(!(!n&&e.indexOf(t)>-1)&&(s(r.clauses.id,function(e){o=o&&o[l(t,e)]}),o===i||!o))}))}function p(e,t){if("string"==typeof t){var r=t;t={fromSet:function(e,t){return e[r]||{}},toSet:function(e,t){return e[r]=t,e}}}this.clause=e,u(this,t)}var v=function(){var e=this.clauses={where:{},order:{},paginate:{},id:{}};this.translators={where:new p("where",{fromSet:function(e,t){return t},toSet:function(e,t){return u(e,t)}})};var t=this;s(arguments,function(r){r&&(r instanceof p?t.translators[r.clause]=r:u(e[r.constructor.type||"where"],r))})};v.make=function(e,t){return e instanceof v?e:new v(e,t)},u(v.prototype,{getClauseProperties:function(e,t){t=t||{};var r=u({},e),i=this.clauses,o=["order","paginate","id"],a={enabled:{where:!0,order:!1,paginate:!1,id:!1}};return t.omitClauses&&(o=n.arrayUnionIntersectionDifference(o,t.omitClauses).difference),s(o,function(e){var t,n={};for(t in i[e])t in r&&(n[t]=r[t],"id"!==e&&delete r[t]);a[e]=n,a.enabled[e]=!f(n)}),a.where=t.isProperties?r:this.translators.where.fromSet(e,r),a},getDifferentClauseTypes:function(e,t){var r=this,n=[];return s(i.TYPES,function(i){r.evaluateOperator(o.equal,e[i],t[i],{isProperties:!0},{isProperties:!0})||n.push(i)}),n},updateSet:function(e,t,r,n){return r&&"object"==typeof r&&!1!==n?(e=this.translators[t]?this.translators.where.toSet(e,r):u(e,r),!0):!!r&&(void 0===n&&void 0)},evaluateOperator:function(e,t,r,n,i,a){n=n||{},i=i||{},a=u({evaluateWhere:e,evaluatePaginate:e,evaluateOrder:e,shouldEvaluatePaginate:function(e,t){return e.enabled.paginate||t.enabled.paginate},shouldEvaluateOrder:function(e,t){return e.enabled.order&&o.equal(e.order,t.order,void 0,void 0,void 0,{},{})}},a||{});var s,c=this.getClauseProperties(t,n),f=this.getClauseProperties(r,i),l={},d=a.evaluateWhere(c.where,f.where,void 0,void 0,void 0,this.clauses.where,{});return s=this.updateSet(l,"where",d,s),d&&a.shouldEvaluatePaginate(c,f)?(a.shouldEvaluateOrder(c,f)&&(d=a.evaluateOrder(c.order,f.order,void 0,void 0,void 0,{},{}),s=this.updateSet(l,"order",d,s)),d&&(d=a.evaluatePaginate(c.paginate,f.paginate,void 0,void 0,void 0,this.clauses.paginate,{}),s=this.updateSet(l,"paginate",d,s))):d&&a.shouldEvaluateOrder(c,f)&&(d=e(c.order,f.order,void 0,void 0,void 0,{},{}),s=this.updateSet(l,"order",d,s)),d&&s?l:d},equal:function(e,t){return this.evaluateOperator(o.equal,e,t)},subset:function(e,t){var r=this.getClauseProperties(e),n=this.getClauseProperties(t),i=!0;return n.enabled.paginate&&(r.enabled.order||n.enabled.order)&&(i=o.equal(r.order,n.order,void 0,void 0,void 0,{},{})),!!i&&this.evaluateOperator(o.subset,e,t)},properSubset:function(e,t){return this.subset(e,t)&&!this.equal(e,t)},difference:function(e,t){var r,n,i=this.getClauseProperties(e),a=this.getClauseProperties(t),s=this.getDifferentClauseTypes(i,a);if(s.length>2)n=!1;else if(2!==s.length||"where"===s[0]&&"id"===s[1])switch(r=s[0]){case void 0:case"order":n=!1;break;case"paginate":case"where":"object"==typeof(n=o.difference(i[r],a[r],void 0,void 0,void 0,this.clauses[r],{}))&&(this.translators[r]&&(n=this.translators[r].toSet({},n)),u(n,i.order),"paginate"===r?u(n,i.where):"id"===s[1]&&(n=o.difference(i.id,a.id,void 0,void 0,void 0,this.clauses.id,{})))}else n=!1;return n},union:function(e,t){return this.evaluateOperator(o.union,e,t)},intersection:function(e,t){return this.evaluateOperator(o.intersection,e,t)},count:function(e){return this.evaluateOperator(o.count,e,{})},has:function(e,t){return this.evaluateOperator(o.subset,t,e,{isProperties:!0},void 0,{shouldEvaluatePaginate:function(){return!1}})},index:function(e,t,r){var i,o,a=this.getClauseProperties(e),u=n.firstProp(a.order);return u?(i=this.clauses.order[u],o=e[u],n.index(function(e,t){return i(o,e,t)},t,r)):(u=n.firstProp(this.clauses.id))?(i=n.defaultSort,o=u,n.index(function(e,t){return i(o,e,t)},t,r)):void 0},getSubset:function(e,t,r){var n=this.getClauseProperties(e),i=this.getClauseProperties(t);if(this.subset(u({},n.where,n.paginate),u({},i.where,i.paginate)))return a.subsetData(e,t,r,this)},getUnion:function(e,t,r,i){var a,u,c=this.getClauseProperties(e),f=this.getClauseProperties(t),l=this;if(this.subset(e,t))return i;if(this.subset(t,e))return r;if(c.enabled.paginate||f.enabled.paginate){if(a={},!o.union(c.paginate,f.paginate,void 0,void 0,void 0,this.clauses.paginate,a))return;s(a.getUnions,function(n){var o=n(e,t,r,i,l,a);r=o[0],i=o[1]}),u=d(r,i,this)}else u=d(r,i,this);if(u.length&&c.enabled.order&&o.equal(c.order,f.order,void 0,void 0,void 0,{},{})){a={};var p=n.firstProp(c.order),v=l.clauses.order[p];u=u.sort(function(t,r){return v(e[p],t,r)})}return u},id:function(e){var t=Object.keys(this.clauses.id);if(1===t.length)return e[t[0]];var r={};return t.forEach(function(t){r[t]=e[t]}),JSON.stringify(r)}});var h=function(e,t){return function(){var r=c(arguments).slice(0,t),n=v.make(arguments[t]);return n[e].apply(n,r)}};e.exports={Algebra:v,Translate:p,difference:h("difference",2),equal:h("equal",2),subset:h("subset",2),properSubset:h("properSubset",2),union:h("union",2),intersection:h("intersection",2),count:h("count",1),has:h("has",2),index:h("index",3),getSubset:h("getSubset",3),getUnion:h("getUnion",4)}},function(e,t,r){var n=r(20),i=n.add,o=r(10);r(23);var a=r(1),u=r(3),s=function(){};a(i,{rand:function e(t,r,n){if("number"==typeof t)return"number"==typeof r?t+Math.floor(Math.random()*(r-t+1)):Math.floor(Math.random()*(t+1));var i=t.slice(0);void 0===r?(r=1,n=i.length):void 0===n&&(n=r);for(var o=[],a=r+Math.round(e(n-r)),u=0;u<a;u++){var s=e(i.length-1),c=i.splice(s,1)[0];o.push(c)}return o},xhr:function(e){return a({},{abort:s,getAllResponseHeaders:function(){return""},getResponseHeader:function(){return""},open:s,overrideMimeType:s,readyState:4,responseText:"",responseXML:null,send:s,setRequestHeader:s,status:200,statusText:"OK"},e)},store:o.make,fixtures:n.fixtures}),e.exports=u.fixture=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(46),o=(n=i)&&n.__esModule?n:{default:n},a=r(2);t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=new a.Algebra(a.props.id(r)),u=(0,i.store)(t,n);return(0,o.default)(e,u),(0,o.default)("GET "+e,function(e,t){u.getListData(e,function(e){t(200,e.data)})}),{close:function(){return(0,o.default)(e,null)}}}}])});